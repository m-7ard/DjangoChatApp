{% extends "core/header.html" %}
{% load static %}
{% load custom_tags %}

{% block content %}
<div class="app">
    <div class="sidebar sidebar--groupchats" data-state="closed" id="groupchats">
        <div class="sidebar__body">
            {% for groupchat_membership in user.group_chat_memberships.all %}
                {% with local_groupchat=groupchat_membership.chat %}
                    {% include './elements/groupchat.html' %}
                {% endwith %}
            {% endfor %}
        </div>
    </div>
    <div class="sidebar sidebar--main">
        <div class="app__header">
            {% block app-sidebar-header %}{% endblock %}
        </div>
        <div class="sidebar__body">
            {% block app-sidebar-body %}{% endblock %}
        </div>
        <div class="user-container">
            <div class="user-container__user">
                <div class="user-container__avatar">
                    <div class="avatar avatar--small">
                        <img src="" alt="">
                    </div>
                </div>
                <div class="user-container__name">
                    Admin
                </div>
                <div class="user-container__status">
                    Online
                </div>
            </div>
            <div class="app__icon right">
                <div class="icon icon--small">
                    <i class="material-symbols-outlined">
                        alternate_email
                    </i>
                </div>
            </div>
            <div class="app__icon app__icon--hoverable">
                <div class="icon icon--small">
                    <i class="material-symbols-outlined">
                        settings
                    </i>
                </div>
            </div>
        </div>
    </div>
    <div class="app__main">
        <div class="app__header app__header--main">
            {% block main-header %}{% endblock %}
            <div class="sidebar__pin app__icon app__icon--hoverable right" data-command="toggle-sidebar" data-target="groupchats" data-state="closed">
                <div class="icon icon--medium icon--hoverable">
                    <i class="material-symbols-outlined">
                        last_page
                    </i>
                </div>
            </div>
            <div class="sidebar__pin app__icon app__icon--hoverable">
                <div class="icon icon--medium icon--hoverable">
                    <i class="material-symbols-outlined">
                        inbox
                    </i>
                </div>
            </div>
            <div class="sidebar__pin app__icon app__icon--hoverable" data-command="toggle-sidebar" data-target="main-content-sidebar" data-state="open">
                <div class="icon icon--medium icon--hoverable">
                    <i class="material-symbols-outlined">
                        first_page
                    </i>
                </div>
            </div>
        </div>
        <div class="app__body">
            <div class="app__content">
                {% block main-content %}{% endblock %}
            </div>
            <div class="sidebar sidebar--content" id="main-content-sidebar" data-state="open">
                <div class="sidebar__body">
                    {% block main-content-sidebar %}{% endblock %}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}

{% endblock %}